# =============================================================================
# LoggingKit Environment Variables
# =============================================================================
# Copy this file to .env and customize for your environment.
# All variables support per-environment overrides by appending _<ENV>
# e.g., LOG_LEVEL_PRODUCTION=warn will override LOG_LEVEL in production.
# =============================================================================

# -----------------------------------------------------------------------------
# General Logging
# -----------------------------------------------------------------------------

# Log level: error | warn | info | http | verbose | debug | silly
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Console Transport
# -----------------------------------------------------------------------------

# Enable console logging (true | false)
LOG_CONSOLE=true

# -----------------------------------------------------------------------------
# File Transport (Daily Rotating)
# -----------------------------------------------------------------------------

# Enable file logging (true | false)
LOG_FILE=false

# Path to log file (supports %DATE% placeholder for rotation)
LOG_FILE_PATH=./logs/app.log

# Maximum file size in bytes before rotation (default: 10MB)
LOG_FILE_MAXSIZE=10485760

# Maximum number of rotated files to keep
LOG_FILE_MAXFILES=5

# -----------------------------------------------------------------------------
# HTTP Transport (Dynatrace / Log Ingestion)
# -----------------------------------------------------------------------------

# Enable HTTP log shipping (true | false)
LOG_HTTP=false

# HTTP endpoint URL for log ingestion
# Example for Dynatrace: https://{env-id}.live.dynatrace.com/api/v2/logs/ingest
LOG_HTTP_URL=

# API key for HTTP transport authentication (Dynatrace Api-Token)
LOG_HTTP_API_KEY=

# -----------------------------------------------------------------------------
# Log Masking / Redaction
# -----------------------------------------------------------------------------

# Enable automatic masking of sensitive fields (true | false)
# When enabled, fields like password, token, apiKey are automatically redacted
LOG_MASK_ENABLED=true

# Comma-separated list of additional field names to mask
# Leave empty to use default sensitive fields (password, token, apiKey, etc.)
# Example: LOG_MASK_FIELDS=customSecret,internalKey
LOG_MASK_FIELDS=

# Pattern to replace masked values with (default: [REDACTED])
LOG_MASK_PATTERN=[REDACTED]

# -----------------------------------------------------------------------------
# Request/Response Body Logging
# -----------------------------------------------------------------------------

# Enable logging of request bodies (true | false)
# WARNING: May log sensitive data - use with masking enabled
LOG_REQUEST_BODY=false

# Enable logging of response bodies (true | false)
# WARNING: May increase log volume significantly
LOG_RESPONSE_BODY=false

# Maximum body size to log in bytes (default: 10KB)
# Bodies larger than this will be truncated
LOG_BODY_MAX_SIZE=10240

# -----------------------------------------------------------------------------
# Performance Metrics
# -----------------------------------------------------------------------------

# Enable performance tracking and slow request detection (true | false)
LOG_PERF_ENABLED=true

# Threshold in milliseconds for slow request warnings (default: 500ms)
# Requests taking longer than this will be logged as warnings
LOG_PERF_THRESHOLD=500

# -----------------------------------------------------------------------------
# Log Sampling (Production Volume Control)
# -----------------------------------------------------------------------------

# Enable log sampling for verbose levels (true | false)
# When enabled, debug/verbose/silly logs are sampled to reduce volume
# error/warn/info/http logs are NEVER sampled (always logged)
LOG_SAMPLING_ENABLED=false

# Sampling rate for debug/verbose/silly logs (0.0 to 1.0)
# 0.1 = log 10% of debug messages, 1.0 = log all, 0.0 = log none
LOG_SAMPLING_RATE=0.1

# -----------------------------------------------------------------------------
# Error Stack Parsing
# -----------------------------------------------------------------------------

# Enable enhanced error stack parsing (true | false)
# Provides structured, filtered stack traces excluding node_modules
LOG_ERROR_STACK_ENABLED=true

# Maximum number of stack frames to include in parsed errors
LOG_ERROR_STACK_LINES=10

# =============================================================================
# Per-Environment Overrides (Examples)
# =============================================================================
# These override the base variables when NODE_ENV matches.
# Uncomment and customize as needed.
# =============================================================================

# Production overrides
# LOG_LEVEL_PRODUCTION=warn
# LOG_CONSOLE_PRODUCTION=false
# LOG_FILE_PRODUCTION=true
# LOG_HTTP_PRODUCTION=true
# LOG_SAMPLING_ENABLED_PRODUCTION=true
# LOG_SAMPLING_RATE_PRODUCTION=0.1

# Staging overrides
# LOG_LEVEL_STAGING=debug
# LOG_HTTP_STAGING=true

# Development overrides (usually not needed, defaults are dev-friendly)
# LOG_LEVEL_DEVELOPMENT=debug
